\n<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8" />\n<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">\n<title>Michigan Waterfalls ‚Äî Mobile</title>\n<link rel="preconnect" href="https://unpkg.com" crossorigin>\n<link rel="dns-prefetch" href="https://unpkg.com">\n<link rel="preconnect" href="https://{s}.tile.openstreetmap.org">\n<style>\n    * { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color: transparent; }\n    :root {\n        --grad: linear-gradient(135deg, #5f72bd 0%, #9b23ea 100%);\n        --bg:#f7f8fa; --ink:#2c3e50;\n    }\n    body {\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;\n        background: var(--bg);\n        color: var(--ink);\n        overflow-x: hidden;\n        padding-bottom: env(safe-area-inset-bottom);\n    }\n    .app-container {\n        max-width: 428px;\n        margin: 0 auto;\n        min-height: 100vh;\n        background: white;\n        position: relative;\n        box-shadow: 0 0 40px rgba(0,0,0,0.08);\n    }\n    .nav-header { position: sticky; top:0; background: var(--grad); color:white; padding: env(safe-area-inset-top) 0 0 0; z-index:100; box-shadow:0 2px 10px rgba(0,0,0,0.1); }\n    .nav-content { display:flex; align-items:center; padding:14px 15px; position:relative; }\n    .back-btn, .nav-action {\n        width:40px; height:40px; border-radius:50%; background: rgba(255,255,255,0.18); border:none; color:white; font-size:20px;\n        cursor:pointer; display:flex; align-items:center; justify-content:center; transition:background .25s;\n    }\n    .back-btn { position:absolute; left:15px; }\n    .nav-action { position:absolute; right:15px; }\n    .back-btn:active, .nav-action:active { background: rgba(255,255,255,0.3); }\n    .nav-title { flex:1; text-align:center; font-size:18px; font-weight:700; letter-spacing:.3px; }\n    /* Search */\n    .search-container { padding: 15px; background:white; border-bottom:1px solid #e5e7eb; }\n    .search-box { display:flex; align-items:center; background:#f3f4f6; border-radius:12px; padding: 12px 14px; gap:10px; }\n    .search-input { flex:1; border:none; background:none; outline:none; font-size:16px; color:var(--ink); }\n    .search-input::placeholder { color:#9ca3af; }\n    /* Filter pills */\n    .filter-pills { padding: 10px 15px 12px; display:flex; gap:8px; overflow-x:auto; -webkit-overflow-scrolling:touch; scrollbar-width:none; }\n    .filter-pills::-webkit-scrollbar { display:none; }\n    .filter-pill {\n        padding:8px 14px; background:white; border:1px solid #e5e7eb; border-radius:999px; font-size:14px; white-space:nowrap; cursor:pointer; transition:.2s;\n    }\n    .filter-pill.active { background: var(--grad); color:white; border-color:transparent; }\n    /* Pages */\n    .page { display:none; animation: fadeIn .25s ease; }\n    .page.active { display:block; }\n    /* Cards */\n    .waterfall-list { padding: 0 0 70px; }\n    .waterfall-card {\n        background:white; margin:10px 15px; border-radius:16px; overflow:hidden; box-shadow:0 2px 8px rgba(0,0,0,.08);\n        cursor:pointer; transition: transform .25s, box-shadow .25s; animation: slideUp .45s ease both;\n    }\n    .waterfall-card:active { transform: scale(.985); }\n    .card-image { width:100%; height:180px; object-fit:cover; background: linear-gradient(to bottom,#e5e7eb,#f3f4f6); }\n    .card-content { padding: 14px; }\n    .card-header { display:flex; justify-content:space-between; align-items:start; gap:8px; margin-bottom:6px; }\n    .card-title { font-size:18px; font-weight:700; color:var(--ink); flex:1; }\n    .distance-tag { background: var(--grad); color:white; padding: 4px 10px; border-radius: 12px; font-size:12px; font-weight:600; white-space:nowrap; }\n    .card-description { color:#6b7280; font-size:14px; line-height:1.5; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }\n    .card-features { display:flex; gap:10px; margin-top:10px; flex-wrap:wrap; }\n    .feature-tag { display:flex; align-items:center; gap:5px; padding:4px 8px; background:#f3f4f6; border-radius:8px; font-size:12px; color:#6b7280; }\n    /* Detail */\n    .detail-hero { position:relative; height: 350px; overflow:hidden; }\n    .hero-image { width:100%; height:100%; object-fit:cover; }\n    .hero-overlay { position:absolute; inset:auto 0 0 0; background: linear-gradient(to top, rgba(0,0,0,.75), transparent); padding: 26px 18px; }\n    .hero-title { color:white; font-size:28px; font-weight:800; margin-bottom:6px; }\n    .hero-subtitle { color: rgba(255,255,255,.9); font-size:14px; }\n    .detail-content { padding: 18px; }\n    .info-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:12px; margin-bottom:20px; }\n    .info-card { background:#f9fafb; padding:12px; border-radius:12px; border:1px solid #e5e7eb; }\n    .info-label { color:#6b7280; font-size:11px; text-transform:uppercase; letter-spacing:.4px; margin-bottom:3px; }\n    .info-value { color:var(--ink); font-size:16px; font-weight:700; }\n    .section { margin-bottom:22px; }\n    .section-title { font-size:18px; font-weight:800; color:var(--ink); margin-bottom:8px; }\n    .section-text { color:#6b7280; line-height:1.6; font-size:15px; }\n    .action-buttons { display:flex; gap:10px; margin:20px 0; }\n    .btn { flex:1; padding:14px; border-radius:12px; border:none; font-size:16px; font-weight:700; cursor:pointer; text-decoration:none; text-align:center; display:flex; align-items:center; justify-content:center; gap:8px; transition: transform .15s; }\n    .btn:active { transform: scale(.97); }\n    .btn-primary { background: var(--grad); color:white; }\n    .btn-secondary { background:#f3f4f6; color:var(--ink); }\n    /* Map */\n    .map-container { padding: 15px; }\n    #map { height: 360px; border-radius: 16px; overflow:hidden; }\n    .map-cta { display:flex; gap:10px; margin: 10px 0 15px; }\n    .chip { background:#f3f4f6; border:1px solid #e5e7eb; padding:8px 12px; border-radius:999px; font-weight:600; font-size:13px; cursor:pointer; }\n    .nearby-list { background:white; border-radius:16px; padding:15px; box-shadow:0 2px 8px rgba(0,0,0,.08); margin-top:15px; }\n    .nearby-title { font-size:16px; font-weight:800; margin-bottom:10px; color:var(--ink); }\n    .nearby-item { display:flex; align-items:center; padding:10px 0; border-bottom:1px solid #f3f4f6; cursor:pointer; }\n    .nearby-item:last-child { border-bottom:none; }\n    .nearby-number { width:24px; height:24px; border-radius:50%; background: var(--grad); color:white; display:flex; align-items:center; justify-content:center; font-size:12px; font-weight:700; margin-right:10px; }\n    .nearby-info { flex:1; }\n    .nearby-name { font-size:14px; font-weight:700; color:var(--ink); }\n    .nearby-distance { font-size:12px; color:#6b7280; }\n    /* Favorites empty state */\n    .empty { padding: 20px; text-align:center; margin-top:100px; }\n    .empty .big { font-size:48px; margin-bottom:12px; }\n    .empty h3 { font-size:20px; font-weight:800; color:var(--ink); margin-bottom:8px; }\n    .empty p { color:#6b7280; }\n    /* Bottom nav */\n    .bottom-nav { position:fixed; bottom:0; left:0; right:0; background:white; border-top:1px solid #e5e7eb; padding:8px 0 env(safe-area-inset-bottom); z-index:100; max-width:428px; margin:0 auto; }\n    .nav-items { display:flex; justify-content:space-around; }\n    .nav-item { flex:1; padding:8px; display:flex; flex-direction:column; align-items:center; gap:4px; cursor:pointer; transition: color .2s; color:#9ca3af; }\n    .nav-item.active { color:#9b23ea; }\n    .nav-icon { font-size:24px; }\n    .nav-label { font-size:11px; font-weight:700; }\n    /* Animations */\n    @keyframes fadeIn { from{opacity:0} to{opacity:1} }\n    @keyframes slideUp { from{ opacity:0; transform: translateY(16px);} to{ opacity:1; transform: translateY(0);} }\n    .hide { display:none !important; }\n</style>\n<link\n  rel="stylesheet"\n  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"\n  integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="\n  crossorigin="anonymous"\n/>\n</head>\n<body>\n<div class="app-container">\n    <!-- Header -->\n    <div class="nav-header">\n        <div class="nav-content">\n            <button class="back-btn hide" id="backBtn" title="Back">‚Üê</button>\n            <div class="nav-title" id="navTitle">Michigan Waterfalls</div>\n            <button class="nav-action" id="viewToggle" title="Toggle Map/List">‚äû</button>\n        </div>\n    </div>\n\n    <!-- Home Page -->\n    <div id="homePage" class="page active" role="region" aria-label="Explore">\n        <div class="search-container">\n            <div class="search-box">\n                <span aria-hidden="true">üîç</span>\n                <input type="text" class="search-input" placeholder="Search by name, county, or river‚Ä¶" id="searchInput" />\n            </div>\n        </div>\n        <div class="filter-pills" id="filterPills">\n            <div class="filter-pill active" data-filter="all">All</div>\n            <div class="filter-pill" data-filter="nearby">&lt; 50 miles</div>\n            <div class="filter-pill" data-filter="tall">50+ ft</div>\n            <div class="filter-pill" data-filter="easy">Easy Access</div>\n            <div class="filter-pill" data-filter="scenic">Most Scenic</div>\n            <div class="filter-pill" data-filter="up">Upper Peninsula</div>\n            <div class="filter-pill" data-filter="lp">Lower Peninsula</div>\n        </div>\n        <div id="waterfallList" class="waterfall-list"></div>\n    </div>\n\n    <!-- Detail Page -->\n    <div id="detailPage" class="page" role="region" aria-label="Waterfall detail">\n        <div id="detailContent"></div>\n    </div>\n\n    <!-- Map Page -->\n    <div id="mapPage" class="page" role="region" aria-label="Map">\n        <div class="map-container">\n            <div id="map"></div>\n            <div class="map-cta">\n                <button class="chip" id="locateBtn">üìç Use My Location</button>\n                <button class="chip" id="resetBtn">‚Ü∫ Reset</button>\n            </div>\n            <div class="nearby-list">\n                <div class="nearby-title">Nearest Waterfalls</div>\n                <div id="nearbyList"></div>\n            </div>\n        </div>\n    </div>\n\n    <!-- Favorites Page -->\n    <div id="favoritesPage" class="page" role="region" aria-label="Favorites">\n        <div id="favoritesList"></div>\n        <div id="favoritesEmpty" class="empty">\n            <div class="big">‚ù§Ô∏è</div>\n            <h3>No Favorites Yet</h3>\n            <p>Tap the heart on any waterfall to save it here.</p>\n        </div>\n    </div>\n\n    <!-- Bottom Nav -->\n    <div class="bottom-nav" role="navigation" aria-label="Bottom navigation">\n        <div class="nav-items">\n            <div class="nav-item active" data-page="home" title="Explore">\n                <span class="nav-icon">üèîÔ∏è</span><span class="nav-label">Explore</span>\n            </div>\n            <div class="nav-item" data-page="map" title="Map">\n                <span class="nav-icon">üìç</span><span class="nav-label">Map</span>\n            </div>\n            <div class="nav-item" data-page="favorites" title="Favorites">\n                <span class="nav-icon">‚ù§Ô∏è</span><span class="nav-label">Favorites</span>\n            </div>\n        </div>\n    </div>\n</div>\n\n<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"\n  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="anonymous"></script>\n<script>\n// --- Data (exclusive to Michigan) ---\n// Coordinates and basic facts compiled from official or public sources (NPS, state tourism, USGS, Wikipedia).\n// Heights are approximate; access and difficulty are generalized for trip-planning only.\nconst MI_WATERFALLS = [\n  // East / Central UP (Pictured Rocks area)\n  {id: 101, name: "Munising Falls", county:"Alger", river:"Munising Creek",\n   height_ft: 50, height:"50 ft", difficulty:"Easy", trail:"0.4 mi paved",\n   lat:46.4226786, lon:-86.6212334,\n   image:"https://upload.wikimedia.org/wikipedia/commons/2/25/Munising_Falls.jpg",\n   link:"https://www.nps.gov/piro/planyourvisit/waterfalls.htm",\n   region:"UP", scenic:true, access:"Paved trail & overlooks"},\n  {id: 102, name: "Miners Falls", county:"Alger", river:"Miners River",\n   height_ft: 40, height:"40 ft", difficulty:"Moderate", trail:"1.2 mi RT",\n   lat:46.4780, lon:-86.5860,\n   image:"https://upload.wikimedia.org/wikipedia/commons/d/d1/Miners_Falls_-_Pictured_Rocks_National_Lakeshore.jpg",\n   link:"https://www.nps.gov/piro/planyourvisit/waterfalls.htm",\n   region:"UP", scenic:true, access:"Gravel trail, stairs at end"},\n  {id: 103, name: "Wagner Falls", county:"Alger", river:"Wagner Creek",\n   height_ft: 20, height:"20 ft", difficulty:"Easy", trail:"0.3 mi boardwalk",\n   lat:46.387526, lon:-86.646904,\n   image:"https://upload.wikimedia.org/wikipedia/commons/3/37/Wagner_Falls.jpg",\n   link:"https://www.michigan.gov/recsearch/parks/wagnerfalls",\n   region:"UP", scenic:true, access:"State scenic site"},\n  {id: 104, name: "Au Train Falls", county:"Alger", river:"Au Train River",\n   height_ft: 40, height:"~40 ft total", difficulty:"Easy", trail:"Short walks",\n   lat:46.3743, lon:-86.8155,\n   image:"https://upload.wikimedia.org/wikipedia/commons/3/32/Au_Train_Falls.jpg",\n   link:"https://www.waterfallsofthekeweenaw.com/au-train/au-train-falls/",\n   region:"UP", access:"Upper & lower viewpoints"},\n  {id: 105, name: "Mosquito Falls", county:"Alger", river:"Mosquito River",\n   height_ft: 8, height:"8‚Äì10 ft (two drops)", difficulty:"Moderate", trail:"~2 mi RT",\n   lat:46.51639, lon:-86.47778,\n   image:"https://upload.wikimedia.org/wikipedia/commons/5/5a/Mosquito_Falls.jpg",\n   link:"https://www.nps.gov/piro/planyourvisit/waterfalls.htm",\n   region:"UP", access:"No pets on this trail"},\n  {id: 106, name: "Chapel Falls", county:"Alger", river:"Chapel Creek",\n   height_ft: 60, height:"~60 ft", difficulty:"Moderate", trail:"2.4 mi RT",\n   lat:46.5135, lon:-86.4669,\n   image:"https://upload.wikimedia.org/wikipedia/commons/1/13/Chapel_Falls_Pictured_Rocks_National_Lakeshore_2016.jpg",\n   link:"https://www.nps.gov/places/chapel-falls.htm",\n   region:"UP", scenic:true},\n  {id: 107, name: "Spray Falls", county:"Alger", river:"Unnamed cliff outfall",\n   height_ft: 70, height:"~70 ft", difficulty:"Challenging", trail:"Boat or long hike",\n   lat:46.5469, lon:-86.4486,\n   image:"https://upload.wikimedia.org/wikipedia/commons/b/bd/Spray_Falls_Pictured_Rocks.jpg",\n   link:"https://en.wikipedia.org/wiki/Spray_Falls_(Michigan)",\n   region:"UP", scenic:true},\n\n  // Marquette area\n  {id: 201, name: "Dead River Falls", county:"Marquette", river:"Dead River",\n   height_ft: 90, height:"Series ~90 ft", difficulty:"Moderate", trail:"1‚Äì2 mi",\n   lat:46.5686111, lon:-87.4783333,\n   image:"https://upload.wikimedia.org/wikipedia/commons/d/d4/Dead_River_Falls_2009.jpg",\n   link:"https://lakesuperiorcircletour.info/location/dead-river-falls-trail/",\n   region:"UP", scenic:true},\n  {id: 202, name: "Morgan Falls", county:"Marquette", river:"Morgan Creek",\n   height_ft: 20, height:"~10‚Äì20 ft", difficulty:"Easy", trail:"2‚Äì3 mi RT options",\n   lat:46.50536, lon:-87.4379,\n   image:"https://upload.wikimedia.org/wikipedia/commons/1/16/Morgan_Falls_Marquette.jpg",\n   link:"https://www.travelmarquette.com/listing/morgan-creek-falls/97/",\n   region:"UP"},\n  {id: 203, name: "Carp River Falls", county:"Marquette", river:"Carp River",\n   height_ft: 30, height:"~30 ft total", difficulty:"Moderate", trail:"1‚Äì2 mi (via Marquette Mountain Rd)",\n   lat:46.50293, lon:-87.44811,\n   image:"https://upload.wikimedia.org/wikipedia/commons/3/39/Carp_River_Falls_Marquette.jpg",\n   link:"https://www.waterfallsofthekeweenaw.com/carp-river/carp-river-falls/",\n   region:"UP"},\n\n  // Western UP ‚Äî Ontonagon / Gogebic (Black River, Presque Isle)\n  {id: 301, name:"Bond Falls", county:"Ontonagon", river:"Middle Branch Ontonagon",\n   height_ft: 40, height:"~40 ft", difficulty:"Easy", trail:"Boardwalk loop",\n   lat:46.414, lon:-89.0575,\n   image:"https://upload.wikimedia.org/wikipedia/commons/8/8a/Bond_Falls.jpg",\n   link:"https://gowaterfalling.com/waterfalls/bond.shtml",\n   region:"UP", scenic:true, access:"Boardwalk & multiple viewpoints"},\n  {id: 302, name:"Agate Falls", county:"Ontonagon", river:"Middle Branch Ontonagon",\n   height_ft: 40, height:"~40 ft", difficulty:"Moderate", trail:"0.5 mi",\n   lat:46.4887, lon:-89.0111,\n   image:"https://upload.wikimedia.org/wikipedia/commons/8/88/Agate_Falls_Winter_2006.jpg",\n   link:"https://gowaterfalling.com/waterfalls/agate.shtml",\n   region:"UP", scenic:true},\n  {id: 303, name:"O Kun de Kun Falls", county:"Ontonagon", river:"Baltimore River",\n   height_ft: 25, height:"~25 ft", difficulty:"Moderate", trail:"2.5‚Äì3 mi RT (NCT)",\n   lat:46.4444, lon:-89.0647,\n   image:"https://upload.wikimedia.org/wikipedia/commons/f/f6/O-Kun-de-Kun_Falls_Michigan_2017.jpg",\n   link:"https://gowaterfalling.com/waterfalls/okundekun.shtml",\n   region:"UP", scenic:true},\n  {id: 304, name:"Gabbro (Baker's) Falls", county:"Gogebic", river:"Black River",\n   height_ft: 40, height:"~40 ft in drops", difficulty:"Moderate", trail:"Short, rugged",\n   lat:46.4746, lon:-89.9966,\n   image:"https://upload.wikimedia.org/wikipedia/commons/2/27/Gabbro_Falls.jpg",\n   link:"https://gowaterfalling.com/waterfalls/gabbro.shtml",\n   region:"UP"},\n  {id: 305, name:"Great Conglomerate Falls", county:"Gogebic", river:"Black River",\n   height_ft: 30, height:"~30 ft", difficulty:"Easy", trail:"0.75 mi",\n   lat:46.63159, lon:-90.05493,\n   image:"https://upload.wikimedia.org/wikipedia/commons/c/c3/Great_Conglomerate_Falls.JPG",\n   link:"https://en.wikipedia.org/wiki/Great_Conglomerate_Falls",\n   region:"UP"},\n  {id: 306, name:"Potawatomi Falls", county:"Gogebic", river:"Black River",\n   height_ft: 30, height:"~30 ft", difficulty:"Easy", trail:"Paved, accessible",\n   lat:46.6140, lon:-90.0719,\n   image:"https://upload.wikimedia.org/wikipedia/commons/b/b0/Potawatomi_Falls.JPG",\n   link:"https://gowaterfalling.com/waterfalls/potawatomi.shtml",\n   region:"UP", access:"Wheelchair accessible path"},\n  {id: 307, name:"Gorge Falls", county:"Gogebic", river:"Black River",\n   height_ft: 25, height:"~25 ft", difficulty:"Easy", trail:"Short with stairs",\n   lat:46.6147, lon:-90.0662,\n   image:"https://upload.wikimedia.org/wikipedia/commons/0/02/Gorge_Falls_Black_River.jpg",\n   link:"https://gowaterfalling.com/waterfalls/gorge.shtml",\n   region:"UP"},\n  {id: 308, name:"Sandstone Falls", county:"Gogebic", river:"Black River",\n   height_ft: 15, height:"~15 ft", difficulty:"Easy", trail:"0.5 mi",\n   lat:46.64997, lon:-90.04758,\n   image:"https://upload.wikimedia.org/wikipedia/commons/4/4e/Sandstone_Falls_Black_River.jpg",\n   link:"https://www.waterfallsofthekeweenaw.com/gogebic-black-river/sandstone-falls/",\n   region:"UP"},\n  {id: 309, name:"Rainbow Falls", county:"Gogebic", river:"Black River",\n   height_ft: 30, height:"~30+ ft", difficulty:"Moderate", trail:"0.5‚Äì0.75 mi + stairs",\n   lat:46.6168, lon:-90.0756,\n   image:"https://upload.wikimedia.org/wikipedia/commons/8/80/Rainbow_Falls_Black_River.jpg",\n   link:"https://en.wikipedia.org/wiki/Rainbow_Falls_(Michigan)",\n   region:"UP", scenic:true},\n\n  // Porcupine Mountains (Presque Isle River)\n  {id: 401, name:"Manabezho Falls", county:"Ontonagon", river:"Presque Isle River",\n   height_ft: 25, height:"~25 ft", difficulty:"Easy", trail:"Short paths & platforms",\n   lat:46.79823, lon:-89.73124,\n   image:"https://upload.wikimedia.org/wikipedia/commons/1/1e/Manabezho_Falls.jpg",\n   link:"https://en.wikipedia.org/wiki/Manabezho_Falls",\n   region:"UP", scenic:true},\n  {id: 402, name:"Manido Falls", county:"Ontonagon", river:"Presque Isle River",\n   height_ft: 15, height:"~15 ft", difficulty:"Easy", trail:"Short paths & platforms",\n   lat:46.79575, lon:-89.73273,\n   image:"https://upload.wikimedia.org/wikipedia/commons/d/d4/Manido_Falls.jpg",\n   link:"https://en.wikipedia.org/wiki/Manido_Falls",\n   region:"UP"},\n  {id: 403, name:"Nawadaha Falls", county:"Ontonagon", river:"Presque Isle River",\n   height_ft: 15, height:"~15 ft", difficulty:"Easy", trail:"Short paths & platforms",\n   lat:46.79308, lon:-89.73415,\n   image:"https://upload.wikimedia.org/wikipedia/commons/6/6a/Nawadaha_Falls.jpg",\n   link:"https://en.wikipedia.org/wiki/Nawadaha_Falls",\n   region:"UP"},\n\n  // Keweenaw Peninsula\n  {id: 501, name:"Eagle River Falls", county:"Keweenaw", river:"Eagle River",\n   height_ft: 40, height:"~40 ft", difficulty:"Easy", trail:"Roadside + footbridge",\n   lat:47.4119444, lon:-88.2955556,\n   image:"https://upload.wikimedia.org/wikipedia/commons/5/50/Eagle_River_Falls_2009.jpg",\n   link:"https://lakesuperiorcircletour.info/location/eagle-river-falls/",\n   region:"UP"},\n  {id: 502, name:"Jacob's Falls", county:"Keweenaw", river:"Jacob's Creek",\n   height_ft: 20, height:"~20 ft", difficulty:"Easy", trail:"Roadside",\n   lat:47.4275, lon:-88.237,\n   image:"https://upload.wikimedia.org/wikipedia/commons/1/1c/Jacobs_Falls_-_Keweenaw_Peninsula.jpg",\n   link:"https://gowaterfalling.com/waterfalls/jacob.shtml",\n   region:"UP"},\n  {id: 503, name:"Houghton-Douglass Falls", county:"Houghton", river:"Hammell Creek",\n   height_ft: 110, height:"~110 ft (tallest in MI)", difficulty:"Challenging", trail:"Rugged gorge",\n   lat:47.181, lon:-88.4109,\n   image:"https://upload.wikimedia.org/wikipedia/commons/f/f8/Houghton-Douglass_Falls_2022.jpg",\n   link:"https://en.wikipedia.org/wiki/Houghton-Douglass_Falls",\n   region:"UP", scenic:true},\n\n  // Central / Eastern UP\n  {id: 601, name:"Laughing Whitefish Falls", county:"Alger", river:"Laughing Whitefish River",\n   height_ft: 100, height:"~100 ft slide", difficulty:"Easy", trail:"0.6‚Äì1 mi",\n   lat:46.413, lon:-86.857, // approximate park area center\n   image:"https://upload.wikimedia.org/wikipedia/commons/5/5d/Laughing_Whitefish_Falls.jpg",\n   link:"https://gowaterfalling.com/waterfalls/laughingwhitefish.shtml",\n   region:"UP", scenic:true},\n  {id: 602, name:"Rock River Falls", county:"Alger", river:"Rock River",\n   height_ft: 15, height:"~15 ft", difficulty:"Challenging", trail:"~3.7 mi RT, sandy two-tracks",\n   lat:46.3355, lon:-86.7182,\n   image:"https://upload.wikimedia.org/wikipedia/commons/9/91/Rock_River_Falls.jpg",\n   link:"https://hikingmichigan.com/rock-river-falls/",\n   region:"UP"},\n  {id: 603, name:"Yellow Dog Falls", county:"Marquette", river:"Yellow Dog River",\n   height_ft: 20, height:"~20 ft (series)", difficulty:"Easy", trail:"~1 mi",\n   lat:46.65946, lon:-87.76264,\n   image:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Yellow_Dog_Falls_2010.jpg",\n   link:"https://www.uptravel.com/listing/yellow-dog-river-waterfalls/3748/",\n   region:"UP"},\n\n  // Menominee / Dickinson\n  {id: 701, name:"Piers Gorge (rapids & falls)", county:"Dickinson", river:"Menominee River",\n   height_ft: 0, height:"Class III rapids & drops", difficulty:"Moderate", trail:"2‚Äì3 mi along gorge",\n   lat:45.7577778, lon:-87.9441667,\n   image:"https://upload.wikimedia.org/wikipedia/commons/a/a2/Menominee_River_Piers_Gorge.jpg",\n   link:"https://www2.dnr.state.mi.us/parksandtrails/Details.aspx?id=429&type=SPTR",\n   region:"UP", scenic:true},\n  {id: 702, name:"Fumee Falls", county:"Dickinson", river:"Fumee Creek",\n   height_ft: 25, height:"~25 ft (3 steps)", difficulty:"Easy", trail:"Roadside park",\n   lat:45.8069444, lon:-87.9783333,\n   image:"https://upload.wikimedia.org/wikipedia/commons/7/7f/Fumee_Falls_Michigan.jpg",\n   link:"https://gowaterfalling.com/waterfalls/fumee.shtml",\n   region:"UP"},\n\n  // Eastern UP / Tahquamenon\n  {id: 801, name:"Upper Tahquamenon Falls", county:"Chippewa", river:"Tahquamenon River",\n   height_ft: 48, height:"~48‚Äì50 ft, 200 ft wide", difficulty:"Easy", trail:"Boardwalk, stairs",\n   lat:46.5740, lon:-85.2560,\n   image:"https://upload.wikimedia.org/wikipedia/commons/7/72/Upper_Tahquamenon_Falls.jpg",\n   link:"https://en.wikipedia.org/wiki/Tahquamenon_Falls",\n   region:"UP", scenic:true, access:"State park facilities"},\n  {id: 802, name:"Lower Tahquamenon Falls", county:"Chippewa", river:"Tahquamenon River",\n   height_ft: 20, height:"~20 ft (islands & drops)", difficulty:"Easy", trail:"Boardwalk loops, rowboat",\n   lat:46.5854, lon:-85.2455,\n   image:"https://upload.wikimedia.org/wikipedia/commons/8/83/Lower_Tahquamenon_Falls_2014.jpg",\n   link:"https://en.wikipedia.org/wiki/Tahquamenon_Falls",\n   region:"UP"},\n\n  // Lower Peninsula (rare waterfalls)\n  {id: 901, name:"Ocqueoc Falls", county:"Presque Isle", river:"Ocqueoc River",\n   height_ft: 5, height:"~5 ft (broad)", difficulty:"Easy", trail:"Short paths, accessible",\n   lat:45.4304, lon:-84.02542,\n   image:"https://upload.wikimedia.org/wikipedia/commons/6/64/Ocqueoc_Falls_Presque_Isle_County_Michigan.JPG",\n   link:"https://www.michigan.org/property/ocqueoc-falls",\n   region:"LP", access:"Wheelchair-friendly trout stream"},\n];\n\n// --- State ---\nlet state = {\n  page: 'home',\n  current: null,\n  favorites: JSON.parse(localStorage.getItem('mi_favorites') || '[]'),\n  filter: 'all',\n  query: '',\n  userLocation: null,\n};\n\n// --- Helpers ---\nconst el = sel => document.querySelector(sel);\nconst miles = km => (km * 0.621371);\nfunction haversine(lat1, lon1, lat2, lon2) {\n  const toRad = d => d * Math.PI / 180;\n  const R = 6371; // km\n  const dLat = toRad(lat2-lat1), dLon = toRad(lon2-lon1);\n  const a = Math.sin(dLat/2)**2 + Math.cos(toRad(lat1))*Math.cos(toRad(lat2))*Math.sin(dLon/2)**2;\n  return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n}\nfunction formatMiles(n) { return `${n.toFixed(1)} mi`; }\nfunction isFavorite(id){ return state.favorites.includes(id); }\nfunction toggleFavorite(id){\n  const i = state.favorites.indexOf(id);\n  if(i>=0) state.favorites.splice(i,1); else state.favorites.push(id);\n  localStorage.setItem('mi_favorites', JSON.stringify(state.favorites));\n  renderWaterfallList(); renderFavorites();\n  if(state.current && state.current.id===id) renderDetail(state.current);\n}\n\n// --- Filtering & Search ---\nfunction applyFilters(items){\n  let out = [...items];\n\n  // search\n  if(state.query){\n    const q = state.query.toLowerCase();\n    out = out.filter(w => (w.name+w.county+w.river).toLowerCase().includes(q));\n  }\n  // filter pills\n  switch(state.filter){\n    case 'nearby':\n      if(state.userLocation){\n        out = out\n          .map(w => ({...w, _dist: miles(haversine(state.userLocation.lat, state.userLocation.lon, w.lat, w.lon))}))\n          .filter(w => isFinite(w._dist) && w._dist < 50)\n          .sort((a,b)=> a._dist - b._dist);\n      } else {\n        // fallback: assume centered around Marquette\n        const def = {lat:46.5436, lon:-87.3953};\n        out = out\n          .map(w => ({...w, _dist: miles(haversine(def.lat, def.lon, w.lat, w.lon))}))\n          .filter(w => w._dist < 50)\n          .sort((a,b)=> a._dist - b._dist);\n      }\n      break;\n    case 'tall':\n      out = out.filter(w => (w.height_ft||0) >= 50);\n      break;\n    case 'easy':\n      out = out.filter(w => (w.difficulty||'').toLowerCase()==='easy' || (w.access||'').toLowerCase().includes('accessible'));\n      break;\n    case 'scenic':\n      out = out.filter(w => w.scenic);\n      break;\n    case 'up':\n      out = out.filter(w => w.region==='UP');\n      break;\n    case 'lp':\n      out = out.filter(w => w.region==='LP');\n      break;\n    default: break;\n  }\n  return out;\n}\n\n// --- Renderers ---\nfunction renderWaterfallList(){\n  const list = el('#waterfallList');\n  const items = applyFilters(MI_WATERFALLS);\n  list.innerHTML = items.map((w,idx)=> `\n    <article class="waterfall-card" style="animation-delay:${idx*0.04}s" onclick="showDetail(${w.id})" aria-label="${w.name} card">\n      <img class="card-image" src="images/vtahquamenonfalls40.jpg" alt="${w.name}">\n      <div class="card-content">\n        <div class="card-header">\n          <h3 class="card-title">${w.name}</h3>\n          ${renderDistanceTag(w)}\n        </div>\n        <p class="card-description">${w.county} County ¬∑ ${w.river} ¬∑ ${w.height}</p>\n        <div class="card-features">\n          <div class="feature-tag">üìè ${w.height}</div>\n          <div class="feature-tag">ü•æ ${w.difficulty||'Varies'}</div>\n          <div class="feature-tag">${isFavorite(w.id) ? '‚ù§Ô∏è Saved' : '‚ô° Save'}</div>\n        </div>\n      </div>\n    </article>\n  `).join('');\n}\nfunction renderDistanceTag(w){\n  try {\n    let dist = null;\n    if(state.userLocation && isFinite(w.lat) && isFinite(w.lon)){\n      dist = miles(haversine(state.userLocation.lat, state.userLocation.lon, w.lat, w.lon));\n    }\n    if(dist===null){\n      // center on Michigan's Upper Peninsula midpoint if unknown\n      const def = {lat:46.5436, lon:-87.3953};\n      dist = miles(haversine(def.lat, def.lon, w.lat, w.lon));\n    }\n    if(!isFinite(dist)) return `<div class="distance-tag">MI</div>`;\n    return `<div class="distance-tag">${formatMiles(dist)}</div>`;\n  } catch(e){ return `<div class="distance-tag">MI</div>`; }\n}\n\nfunction renderDetail(w){\n  const fav = isFavorite(w.id);\n  const detail = el('#detailContent');\n  detail.innerHTML = `\n    <div class="detail-hero">\n      <img class="hero-image" src="images/vtahquamenonfalls40.jpg" alt="${w.name}">\n      <div class="hero-overlay">\n        <div class="hero-title">${w.name}</div>\n        <div class="hero-subtitle">${w.county} County ¬∑ ${w.river}</div>\n      </div>\n    </div>\n    <div class="detail-content">\n      <div class="info-grid">\n        <div class="info-card">\n          <div class="info-label">Height</div>\n          <div class="info-value">${w.height}</div>\n        </div>\n        <div class="info-card">\n          <div class="info-label">Difficulty</div>\n          <div class="info-value">${w.difficulty || 'Varies'}</div>\n        </div>\n        <div class="info-card">\n          <div class="info-label">Region</div>\n          <div class="info-value">${w.region==='UP' ? 'Upper Peninsula' : 'Lower Peninsula'}</div>\n        </div>\n        <div class="info-card">\n          <div class="info-label">Trail</div>\n          <div class="info-value">${w.trail || '‚Äî'}</div>\n        </div>\n      </div>\n      <div class="section">\n        <div class="section-title">Overview</div>\n        <p class="section-text">\n          ${w.name} is a Michigan waterfall on the ${w.river} in ${w.county} County.\n          Distances shown are approximations; check local conditions before you go.\n        </p>\n      </div>\n      <div class="action-buttons">\n        <a class="btn btn-primary" href="https://www.google.com/maps/search/?api=1&query=${w.lat},${w.lon}" target="_blank" rel="noopener">üß≠ Directions</a>\n        <a class="btn btn-secondary" href="${w.link}" target="_blank" rel="noopener">üîó Official/Info</a>\n      </div>\n      <div class="action-buttons">\n        <button class="btn ${fav ? 'btn-secondary' : 'btn-primary'}" onclick="toggleFavorite(${w.id}); event.stopPropagation();">\n          ${fav ? '‚ù§Ô∏è Remove Favorite' : '‚ô° Add to Favorites'}\n        </button>\n        <button class="btn btn-secondary" onclick="shareWaterfall(${w.id}); event.stopPropagation();">üì§ Share</button>\n      </div>\n    </div>\n  `;\n}\n\nfunction renderFavorites(){\n  const wrap = el('#favoritesList');\n  const empty = el('#favoritesEmpty');\n  const items = MI_WATERFALLS.filter(w => state.favorites.includes(w.id));\n  if(items.length===0){\n    wrap.innerHTML = '';\n    empty.classList.remove('hide');\n    return;\n  }\n  empty.classList.add('hide');\n  wrap.innerHTML = items.map(w => `\n    <article class="waterfall-card" onclick="showDetail(${w.id})">\n      <img class="card-image" src="images/vtahquamenonfalls40.jpg" alt="${w.name}">\n      <div class="card-content">\n        <div class="card-header">\n          <h3 class="card-title">${w.name}</h3>\n          ${renderDistanceTag(w)}\n        </div>\n        <p class="card-description">${w.county} County ¬∑ ${w.river} ¬∑ ${w.height}</p>\n        <div class="card-features">\n          <div class="feature-tag">üìè ${w.height}</div>\n          <div class="feature-tag">ü•æ ${w.difficulty||'Varies'}</div>\n          <div class="feature-tag">‚ù§Ô∏è Favorited</div>\n        </div>\n      </div>\n    </article>\n  `).join('');\n}\n\n// --- Pages ---\nfunction showPage(page){\n  state.page = page;\n  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));\n  el('#' + page + 'Page').classList.add('active');\n  document.querySelectorAll('.nav-item').forEach(i => {\n    i.classList.toggle('active', i.dataset.page === page);\n  });\n  el('#navTitle').textContent =\n    page==='home' ? 'Michigan Waterfalls' :\n    page==='map' ? 'Map' :\n    page==='favorites' ? 'Favorites' :\n    'Michigan Waterfalls';\n  el('#backBtn').classList.add('hide');\n  if(page==='map') { setTimeout(initMap, 0); }\n  if(page==='favorites') { renderFavorites(); }\n}\nfunction showDetail(id){\n  const w = MI_WATERFALLS.find(x => x.id===id);\n  if(!w) return;\n  state.current = w;\n  el('#homePage').classList.remove('active');\n  el('#mapPage').classList.remove('active');\n  el('#favoritesPage').classList.remove('active');\n  el('#detailPage').classList.add('active');\n  el('#backBtn').classList.remove('hide');\n  el('#navTitle').textContent = w.name;\n  renderDetail(w);\n}\nfunction navigateBack(){\n  if(el('#detailPage').classList.contains('active')){\n    el('#detailPage').classList.remove('active');\n    el('#homePage').classList.add('active');\n    el('#backBtn').classList.add('hide');\n    el('#navTitle').textContent = 'Michigan Waterfalls';\n  }\n}\n\n// --- Search & Filters ---\nfunction setupSearch(){\n  el('#searchInput').addEventListener('input', e => {\n    state.query = e.target.value.trim();\n    renderWaterfallList();\n  });\n  document.querySelectorAll('.filter-pill').forEach(p => {\n    p.addEventListener('click', () => {\n      document.querySelectorAll('.filter-pill').forEach(x=>x.classList.remove('active'));\n      p.classList.add('active');\n      state.filter = p.dataset.filter;\n      renderWaterfallList();\n      if(state.filter==='nearby') requestUserLocation();\n    });\n  });\n}\n\n// --- Geolocation & distances ---\nfunction requestUserLocation(){\n  if(!navigator.geolocation) return;\n  navigator.geolocation.getCurrentPosition(pos => {\n    state.userLocation = { lat: pos.coords.latitude, lon: pos.coords.longitude };\n    renderWaterfallList();\n    if(window._map) { window._map.setView([state.userLocation.lat, state.userLocation.lon], 8); }\n    renderNearbyList();\n  });\n}\n\n// --- Sharing ---\nasync function shareWaterfall(id){\n  const w = MI_WATERFALLS.find(x => x.id===id);\n  if(!w) return;\n  const shareUrl = `https://www.google.com/maps/search/?api=1&query=${w.lat},${w.lon}`;\n  try{\n    if(navigator.share){\n      await navigator.share({ title: `${w.name} ‚Äî Michigan Waterfalls`, text: `${w.name} (${w.height})`, url: shareUrl });\n    } else {\n      await navigator.clipboard.writeText(shareUrl);\n      alert('Link copied to clipboard!');\n    }\n  }catch(e){\n    window.open(shareUrl, '_blank');\n  }\n}\n\n// --- Map (Leaflet) ---\nfunction initMap(){\n  if(window._map) { return; }\n  const map = L.map('map', { scrollWheelZoom:false });\n  window._map = map;\n  const tiles = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    maxZoom: 18, attribution: '&copy; OpenStreetMap'\n  });\n  tiles.addTo(map);\n  // Default center ~ Marquette\n  map.setView([46.5436, -87.3953], 7);\n\n  const pin = L.icon({ iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n                       shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',\n                       iconSize:[25,41], iconAnchor:[12,41], popupAnchor:[1,-34], shadowSize:[41,41] });\n\n  MI_WATERFALLS.filter(w => Number.isFinite(w.lat) && Number.isFinite(w.lon)).forEach(w => {\n    const m = L.marker([w.lat, w.lon], { icon: pin }).addTo(map);\n    m.bindPopup(`\n      <strong>${w.name}</strong><br>\n      ${w.county} County ‚Ä¢ ${w.height}<br>\n      <a href="#" onclick="showDetail(${w.id}); return false;">View details</a>\n    `);\n  });\n\n  // Buttons\n  el('#locateBtn').onclick = () => requestUserLocation();\n  el('#resetBtn').onclick = () => map.setView([46.5436, -87.3953], 7);\n\n  renderNearbyList();\n}\n\nfunction renderNearbyList(){\n  const list = el('#nearbyList');\n  const center = state.userLocation || {lat:46.5436, lon:-87.3953};\n  const sorted = MI_WATERFALLS\n    .filter(w => Number.isFinite(w.lat) && Number.isFinite(w.lon))\n    .map(w => ({...w, _d: miles(haversine(center.lat, center.lon, w.lat, w.lon))}))\n    .sort((a,b)=> a._d - b._d)\n    .slice(0, 10);\n  list.innerHTML = sorted.map((w,i)=>`\n    <div class="nearby-item" onclick="showDetail(${w.id})">\n      <div class="nearby-number">${i+1}</div>\n      <div class="nearby-info">\n        <div class="nearby-name">${w.name}</div>\n        <div class="nearby-distance">${w.county} County ‚Ä¢ ${formatMiles(w._d)}</div>\n      </div>\n    </div>\n  `).join('');\n}\n\n// --- UI bindings ---\ndocument.getElementById('backBtn').addEventListener('click', navigateBack);\ndocument.querySelectorAll('.nav-item').forEach(i => i.addEventListener('click', () => showPage(i.dataset.page)));\ndocument.getElementById('viewToggle').addEventListener('click', () => {\n  // quick toggle between home & map for convenience\n  showPage(state.page === 'map' ? 'home' : 'map');\n});\n\n// --- Start ---\n(function initApp(){\n  setupSearch();\n  renderWaterfallList();\n  // Attempt to get user location early for distance sorting (optional)\n  if(navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(pos => {\n      state.userLocation = { lat: pos.coords.latitude, lon: pos.coords.longitude };\n      renderWaterfallList();\n      renderNearbyList();\n    });\n  }\n})();\n</script>\n<script>document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("img").forEach(img=>{const src=img.getAttribute("src")||"";if(src.startsWith("/images/")){img.setAttribute("src",src.replace(/^\//,""));}});});</script>\n</body>\n</html>